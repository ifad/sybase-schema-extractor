#!/usr/bin/env ruby
require "./lib/sybase_schema_extractor"
config = ARGV[0]
connection = ARGV[1]
output = ARGV[2]

def usage!
  $stderr.puts "#{__FILE__} <config_filename> <connection_name> <output_filename>"
  $stderr.puts
  $stderr.puts "e.g."
  $stderr.puts "#{__FILE__} ./config/database.yml production schema.rb"
  exit -1
end

usage! unless config && connection && output
extractor = SybaseSchemaExtractor.new config
extractor.perform(connection, output)
